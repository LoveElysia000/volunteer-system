# Generated with protoc-gen-openapi
# https://github.com/google/gnostic/tree/master/cmd/protoc-gen-openapi

openapi: 3.0.3
info:
    title: VolunteerService API
    description: 志愿者管理服务端接口
    version: 0.0.1
paths:
    /api/volunteers/:id:
        put:
            tags:
                - VolunteerService
            description: 更新志愿者信息（志愿者端）
            operationId: VolunteerService_VolunteerUpdate
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/volunteer.VolunteerUpdateRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/volunteer.VolunteerUpdateResponse'
    /api/volunteers/detail/:id:
        get:
            tags:
                - VolunteerService
            description: 志愿者详情（管理员端）
            operationId: VolunteerService_VolunteerDetail
            parameters:
                - name: id
                  in: query
                  description: '志愿者ID 必填 @gotags: path:"id,required"'
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/volunteer.VolunteerDetailResponse'
    /api/volunteers/list:
        post:
            tags:
                - VolunteerService
            description: 志愿者列表（管理员端）
            operationId: VolunteerService_VolunteerList
            parameters:
                - name: keyword
                  in: query
                  description: '搜索关键字 可选 @gotags: query:"keyword"'
                  schema:
                    type: string
                - name: page
                  in: query
                  description: '页码 必填 @gotags: query:"page,required"'
                  schema:
                    type: integer
                    format: int32
                - name: pageSize
                  in: query
                  description: '页大小 必填 @gotags: query:"pageSize,required"'
                  schema:
                    type: integer
                    format: int32
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/volunteer.VolunteerListResponse'
    /api/volunteers/my/profile:
        get:
            tags:
                - VolunteerService
            description: 我的个人信息（志愿者端）
            operationId: VolunteerService_MyProfile
            parameters:
                - name: id
                  in: query
                  description: '志愿者ID 必填 @gotags: query:"id,required"'
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/volunteer.MyProfileResponse'
components:
    schemas:
        volunteer.MyProfileResponse:
            type: object
            properties:
                volunteer:
                    allOf:
                        - $ref: '#/components/schemas/volunteer.VolunteerInfo'
                    description: 志愿者信息
            description: MyProfileResponse 我的个人信息响应（志愿者端）
        volunteer.VolunteerDetailResponse:
            type: object
            properties:
                volunteer:
                    allOf:
                        - $ref: '#/components/schemas/volunteer.VolunteerInfo'
                    description: 志愿者信息
            description: VolunteerDetailResponse 志愿者详情响应（管理员端）
        volunteer.VolunteerInfo:
            type: object
            properties:
                id:
                    type: string
                accountId:
                    type: string
                    description: 账户ID
                realName:
                    type: string
                    description: 真实姓名
                gender:
                    type: integer
                    description: '性别: 0-未知, 1-男, 2-女'
                    format: int32
                birthday:
                    type: string
                    description: 出生日期
                idCard:
                    type: string
                    description: 身份证号
                avatarUrl:
                    type: string
                    description: 头像URL
                introduction:
                    type: string
                    description: 个人简介
                totalHours:
                    type: number
                    description: 累计服务时长(小时)
                    format: double
                serviceCount:
                    type: integer
                    description: 累计服务次数
                    format: int32
                creditScore:
                    type: integer
                    description: 信用分
                    format: int32
                auditStatus:
                    type: integer
                    description: |-
                        TODO(volunteer-status-migration): 接入 volunteers.status 后，评估是否新增 status 字段用于详情状态展示，避免与 auditStatus 语义混淆。
                         实名认证状态: 0-未认证, 1-审核中, 2-已通过, 3-驳回
                    format: int32
                createdAt:
                    type: string
                    description: 创建时间
                updatedAt:
                    type: string
                    description: 更新时间
            description: VolunteerInfo 志愿者信息
        volunteer.VolunteerListItem:
            type: object
            properties:
                id:
                    type: string
                accountId:
                    type: string
                    description: 账户ID
                realName:
                    type: string
                    description: 真实姓名
                gender:
                    type: integer
                    description: '性别: 0-未知, 1-男, 2-女'
                    format: int32
                avatarUrl:
                    type: string
                    description: 头像URL
                totalHours:
                    type: number
                    description: 累计服务时长(小时)
                    format: double
                serviceCount:
                    type: integer
                    description: 累计服务次数
                    format: int32
                creditScore:
                    type: integer
                    description: 信用分
                    format: int32
                auditStatus:
                    type: integer
                    description: |-
                        TODO(volunteer-status-migration): 接入 volunteers.status 后，评估是否新增 status 字段用于列表状态展示，避免与 auditStatus 语义混淆。
                         实名认证状态: 0-未认证, 1-审核中, 2-已通过, 3-驳回
                    format: int32
                createdAt:
                    type: string
                    description: 创建时间
                updatedAt:
                    type: string
                    description: 更新时间
            description: VolunteerListItem 志愿者列表项
        volunteer.VolunteerListResponse:
            type: object
            properties:
                total:
                    type: integer
                    format: int32
                list:
                    type: array
                    items:
                        $ref: '#/components/schemas/volunteer.VolunteerListItem'
            description: VolunteerListResponse 志愿者列表响应
        volunteer.VolunteerUpdateRequest:
            type: object
            properties:
                volunteerId:
                    type: string
                    description: '志愿者ID @gotags: path:"volunteerId,required"'
                realName:
                    type: string
                    description: '真实姓名 可选 @gotags: json:"realName"'
                gender:
                    type: integer
                    description: '性别: 0-未知, 1-男, 2-女 可选 @gotags: json:"gender"'
                    format: int32
                birthday:
                    type: string
                    description: '出生日期 可选 @gotags: json:"birthday"'
                avatarUrl:
                    type: string
                    description: '头像URL 可选 @gotags: json:"avatarUrl"'
                introduction:
                    type: string
                    description: '个人简介 可选 @gotags: json:"introduction"'
            description: VolunteerUpdateRequest 更新志愿者请求
        volunteer.VolunteerUpdateResponse:
            type: object
            properties: {}
            description: VolunteerUpdateResponse 更新志愿者响应
tags:
    - name: VolunteerService
